(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["teble-ex"]=e():t["teble-ex"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="+xUi")}({"+xUi":function(t,e,n){"use strict";n.r(e);n("HrLf");var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{ref:"td",staticClass:"td-ex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",attrs:{readonly:!t.edit||!t.tableEx.enable||!t.enable},domProps:{value:t.value},on:{keydown:t.keydown,focus:t.focus,blur:t.blur,input:[function(e){e.target.composing||(t.value=e.target.value)},t.input]}}),t.showDrawdown&&t.tableEx.enable&&t.enable?n("div",{staticClass:"drawdown-icon",on:{mousedown:t.drawdownClick}},[n("i")]):t._e(),t.showList?n("ul",t._l(t.searchList,function(e,i){return n("li",{key:i,class:{selected:e==t.selectedItem},on:{mousedown:function(n){t.itemClick(e)}}},[t._v(t._s(t.displayValue(e)))])})):t._e()])},r=[],o=(n("dRSK"),n("CiO6"),{name:"TdEx",model:{prop:"bindValue",event:"update:bindValue"},inject:{tableEx:"tableEx",tbodyEx:"tbodyEx",trEx:"trEx"},props:{bindValue:{default:""},list:Array,display:String,take:String,edit:Boolean},data:function(){return{showList:!1,showListTimeout:null,showDrawdown:this.$props.list,value:"",selectedItem:null,readonly:!0,colIndex:null}},mounted:function(){var t=this;if(this.colIndex=this.$refs.td.cellIndex,this.trEx.tdList.push(this),this.$nextTick(function(){t.tableEx.autoFocus&&1==t.trEx.rowIndex&&1==t.colIndex&&t.$refs.input.focus()}),this.list){var e=this.list.find(function(e){return t.takeValue(e)==t.bindValue});e&&this.itemClick(e)}else this.value=this.bindValue},beforeDestroy:function(){var t=this;this.trEx.tdList=this.trEx.tdList.filter(function(e){return e!==t})},updated:function(){this.colIndex=this.$refs.cellIndex},methods:{setFocus:function(){this.$refs.input.focus()},drawdownClick:function(){var t=this;this.showList=!this.showList,this.$nextTick(function(){return t.$refs.input.focus()})},focus:function(t){this.$nextTick(function(){t.target.select()})},blur:function(){var t=this;if(this.list){this.showListTimeout=setTimeout(function(){t.showList=!1},100);var e=this.list.find(function(e){return t.displayValue(e)==t.value});e||(this.value="",this.$emit("update:bindValue",null),this.$nextTick(function(){return t.$emit("change",null)}))}},displayValue:function(t){return this.list&&this.display?t[this.display]:t},takeValue:function(t){return this.list&&this.take?t[this.take]:t},itemClick:function(t){var e=this;this.$emit("update:bindValue",this.takeValue(t)),this.value=this.displayValue(t),this.selectedItem=t,this.$nextTick(function(){return e.$emit("change",e.selectedItem)})},input:function(){var t=this;this.$nextTick(function(){t.list?t.showList=0!=t.searchList.length:t.edit&&t.$emit("update:bindValue",t.value)})},keydown:function(t){var e=this;if(this.trEx.enable&&this.tableEx.enable)switch(t.keyCode){case 13:if(!this.list)return;this.$emit("update:bindValue",this.takeValue(this.selectedItem)),this.value=this.displayValue(this.selectedItem),this.$nextTick(function(){return e.$emit("change",e.selectedItem)}),this.showList=!1;break;case 40:if(this.list)this.arrowDownKeydown(),this.scrollIntoView();else{var n=this.tbodyEx.trList.indexOf(this.trEx);if(n==this.tbodyEx.trList.length-1)return;var i=this.trEx.tdList.indexOf(this);this.tbodyEx.trList[n+1].tdList[i].setFocus()}break;case 38:if(this.list)this.arrowUpKeydown(),this.scrollIntoView();else{var r=this.tbodyEx.trList.indexOf(this.trEx);if(0==r)return;var o=this.trEx.tdList.indexOf(this);this.tbodyEx.trList[r-1].tdList[o].setFocus()}break;case 37:this.arrowLeftKeydown();break;case 39:this.arrowRightKeydown();break;default:break}},arrowDownKeydown:function(){if(0!=this.searchList.length){var t=this.searchList.indexOf(this.selectedItem);if(!this.showList)return this.showList=!0,void(-1==t&&(this.selectedItem=this.searchList[0]));t==this.searchList.length-1?t=0:t+=1,this.selectedItem=this.searchList[t]}},arrowUpKeydown:function(){if(0!=this.searchList.length&&this.showList){var t=this.searchList.indexOf(this.selectedItem);0==t?t=this.searchList.length-1:t-=1,this.selectedItem=this.searchList[t]}},arrowLeftKeydown:function(){var t=this.trEx.tdList.indexOf(this);0!=t&&this.trEx.tdList[t-1].setFocus()},arrowRightKeydown:function(){var t=this.trEx.tdList.indexOf(this);t!=this.trEx.tdList.length-1&&this.trEx.tdList[t+1].setFocus()},scrollIntoView:function(){this.list&&this.$nextTick(function(){var t=document.getElementsByClassName("selected").item(0);t&&t.scrollIntoViewIfNeeded()})}},computed:{searchList:function(){var t=this;if(this.list)return""==this.value?this.list:this.list.filter(function(e){return-1!=t.displayValue(e).indexOf(t.value)})},enable:function(){var t=this.tbodyEx.trList.indexOf(this.trEx);if(0==t)return!0;var e=this.tbodyEx.trList[t-1];return!!e&&e.valid}},watch:{showList:function(t){this.list&&(clearTimeout(this.showListTimeout),this.showListTimeout=null)},bindValue:function(t){this.list||(this.value=t)}}}),s=o;n("OeT0");function u(t,e,n,i,r,o,s,u){var a,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(a=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=a):r&&(a=u?function(){r.call(this,this.$root.$options.shadowRoot)}:r),a)if(c.functional){c._injectStyles=a;var l=c.render;c.render=function(t,e){return a.call(e),l(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,a):[a]}return{exports:t,options:c}}var a=u(s,i,r,!1,null,null,null),c=a.exports,l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"tr-ex"},[t.tableEx.showIndex?n("td",{staticClass:"order-col"},[t._v("\n    "+t._s(t.rowIndex)+"\n    "),t.valid?n("i"):t._e()]):t._e(),t._t("default")],2)},f=[],d={name:"TrEx",inject:{tableEx:"tableEx",tbodyEx:"tbodyEx"},provide:function(){return{trEx:this}},props:{valid:{type:Boolean,default:!0},validTip:Boolean},data:function(){return{rowIndex:null,tdList:[]}},mounted:function(){this.rowIndex=this.$el.rowIndex,this.tbodyEx.trList.push(this)},beforeDestroy:function(){var t=this;this.tbodyEx.trList=this.tbodyEx.trList.filter(function(e){return e!==t})},updated:function(){this.rowIndex=this.$el.rowIndex},methods:{}},h=d,p=(n("sLf9"),u(h,l,f,!1,null,null,null)),x=p.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tbody",{staticClass:"tbody-ex"},[t._t("default")],2)},y=[],m={name:"TbodyEx",data:function(){return{trList:[]}},provide:function(){return{tbodyEx:this}}},b=m,w=u(b,v,y,!1,null,null,null),E=w.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"thead-ex"},[n("tr",[t.tableEx.showIndex?n("th",{staticClass:"order-col"},[t._v("行号")]):t._e(),t._t("default")],2)])},_=[],g={name:"TheadEx",inject:{tableEx:"tableEx"}},T=g,I=(n("K068"),u(T,L,_,!1,null,null,null)),k=I.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table-ex"},[t._t("default")],2)},$=[],C={name:"TableEx",props:{autoFocus:Boolean,showIndex:{type:Boolean,default:!0},enable:Boolean},provide:function(){return{tableEx:this}}},V=C,j=(n("u8SE"),u(V,O,$,!1,null,null,null)),S=j.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tfoot",{staticClass:"tfoot-ex"},[t._t("default")],2)},F=[],M={name:"TfootEx"},R=M,K=(n("OJ4k"),u(R,P,F,!1,null,null,null)),U=K.exports,A={install:function(t){t.component("td-ex",c),t.component("tr-ex",x),t.component("tbody-ex",E),t.component("thead-ex",k),t.component("table-ex",S),t.component("tfoot-ex",U)}};e["default"]=A},"0/R4":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"2OiF":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"6FMO":function(t,e,n){var i=n("0/R4"),r=n("EWmC"),o=n("K0xU")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},CiO6:function(t,e){Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){function e(e,n,i,r){return!1===t||i<=e+r&&e<=n+r?Math.min(i,Math.max(n,e)):(n+i)/2}function n(t,e,i,r){return{left:t,top:e,width:i,height:r,right:t+i,bottom:e+r,translate:function(o,s){return n(o+t,s+e,i,r)},relativeFromTo:function(s,u){var a=t,c=e;if(s=s.offsetParent,u=u.offsetParent,s===u)return o;for(;s;s=s.offsetParent)a+=s.offsetLeft+s.clientLeft,c+=s.offsetTop+s.clientTop;for(;u;u=u.offsetParent)a-=u.offsetLeft+u.clientLeft,c-=u.offsetTop+u.clientTop;return n(a,c,i,r)}}}var i,r=this,o=n(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);while((i=r.parentNode)instanceof HTMLElement){var s=i.offsetLeft+i.clientLeft,u=i.offsetTop+i.clientTop;o=o.relativeFromTo(r,i).translate(-s,-u),i.scrollLeft=e(i.scrollLeft,o.right-i.clientWidth,o.left,i.clientWidth),i.scrollTop=e(i.scrollTop,o.bottom-i.clientHeight,o.top,i.clientHeight),o=o.translate(s-i.scrollLeft,u-i.scrollTop),r=i}})},CkkT:function(t,e,n){var i=n("m0Pp"),r=n("Ymqv"),o=n("S/j/"),s=n("ne8i"),u=n("zRwo");t.exports=function(t,e){var n=1==t,a=2==t,c=3==t,l=4==t,f=6==t,d=5==t||f,h=e||u;return function(e,u,p){for(var x,v,y=o(e),m=r(y),b=i(u,p,3),w=s(m.length),E=0,L=n?h(e,w):a?h(e,0):void 0;w>E;E++)if((d||E in m)&&(x=m[E],v=b(x,E,y),t))if(n)L[E]=v;else if(v)switch(t){case 3:return!0;case 5:return x;case 6:return E;case 2:L.push(x)}else if(l)return!1;return f?-1:c||l?l:L}}},EWmC:function(t,e,n){var i=n("LZWt");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"Eo/v":function(t,e,n){},HrLf:function(t,e,n){var i;"undefined"!==typeof window&&((i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js$/))&&(n.p=i[1]))},Ie4s:function(t,e,n){},Imuf:function(t,e,n){},Iw71:function(t,e,n){var i=n("0/R4"),r=n("dyZX").document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},K068:function(t,e,n){"use strict";var i=n("h1lh"),r=n.n(i);r.a},K0xU:function(t,e,n){var i=n("VTer")("wks"),r=n("ylqs"),o=n("dyZX").Symbol,s="function"==typeof o,u=t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))};u.store=i},KroJ:function(t,e,n){var i=n("dyZX"),r=n("Mukb"),o=n("aagx"),s=n("ylqs")("src"),u="toString",a=Function[u],c=(""+a).split(u);n("g3g5").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,u){var a="function"==typeof n;a&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(a&&(o(n,s)||r(n,s,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:u?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[s]||a.call(this)})},LQAc:function(t,e){t.exports=!1},LZWt:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},Mukb:function(t,e,n){var i=n("hswa"),r=n("RjD/");t.exports=n("nh4g")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},OJ4k:function(t,e,n){"use strict";var i=n("oOwC"),r=n.n(i);r.a},OeT0:function(t,e,n){"use strict";var i=n("Imuf"),r=n.n(i);r.a},RYi7:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"RjD/":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"S/j/":function(t,e,n){var i=n("vhPU");t.exports=function(t){return Object(i(t))}},VTer:function(t,e,n){var i=n("g3g5"),r=n("dyZX"),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("LQAc")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},XKFU:function(t,e,n){var i=n("dyZX"),r=n("g3g5"),o=n("Mukb"),s=n("KroJ"),u=n("m0Pp"),a="prototype",c=function(t,e,n){var l,f,d,h,p=t&c.F,x=t&c.G,v=t&c.S,y=t&c.P,m=t&c.B,b=x?i:v?i[e]||(i[e]={}):(i[e]||{})[a],w=x?r:r[e]||(r[e]={}),E=w[a]||(w[a]={});for(l in x&&(n=e),n)f=!p&&b&&void 0!==b[l],d=(f?b:n)[l],h=m&&f?u(d,i):y&&"function"==typeof d?u(Function.call,d):d,b&&s(b,l,d,t&c.U),w[l]!=d&&o(w,l,h),y&&E[l]!=d&&(E[l]=d)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},Ymqv:function(t,e,n){var i=n("LZWt");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},aagx:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},apmT:function(t,e,n){var i=n("0/R4");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},dRSK:function(t,e,n){"use strict";var i=n("XKFU"),r=n("CkkT")(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("nGyu")(o)},dyZX:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},eeVq:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},g3g5:function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},h1lh:function(t,e,n){},hswa:function(t,e,n){var i=n("y3w9"),r=n("xpql"),o=n("apmT"),s=Object.defineProperty;e.f=n("nh4g")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},m0Pp:function(t,e,n){var i=n("2OiF");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},nGyu:function(t,e,n){var i=n("K0xU")("unscopables"),r=Array.prototype;void 0==r[i]&&n("Mukb")(r,i,{}),t.exports=function(t){r[i][t]=!0}},ne8i:function(t,e,n){var i=n("RYi7"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},nh4g:function(t,e,n){t.exports=!n("eeVq")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},oOwC:function(t,e,n){},sLf9:function(t,e,n){"use strict";var i=n("Eo/v"),r=n.n(i);r.a},u8SE:function(t,e,n){"use strict";var i=n("Ie4s"),r=n.n(i);r.a},vhPU:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},xpql:function(t,e,n){t.exports=!n("nh4g")&&!n("eeVq")(function(){return 7!=Object.defineProperty(n("Iw71")("div"),"a",{get:function(){return 7}}).a})},y3w9:function(t,e,n){var i=n("0/R4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},ylqs:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},zRwo:function(t,e,n){var i=n("6FMO");t.exports=function(t,e){return new(i(t))(e)}}})});
//# sourceMappingURL=teble-ex.umd.min.js.map