(function(t){function e(e){for(var i,l,r=e[0],a=e[1],u=e[2],h=0,d=[];h<r.length;h++)l=r[h],s[l]&&d.push(s[l][0]),s[l]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);c&&c(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var a=n[r];0!==s[a]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=n[0]))}return t}var i={},s={0:0},o=[];function l(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=i,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(n,i,function(e){return t[e]}.bind(null,i));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/vue-table-ex/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=a;o.push([0,1]),n()})({0:function(t,e,n){t.exports=n("Vtdi")},"A0++":function(t,e,n){"use strict";var i=n("BPUQ"),s=n.n(i);s.a},BPUQ:function(t,e,n){},CiO6:function(t,e){Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){function e(e,n,i,s){return!1===t||i<=e+s&&e<=n+s?Math.min(i,Math.max(n,e)):(n+i)/2}function n(t,e,i,s){return{left:t,top:e,width:i,height:s,right:t+i,bottom:e+s,translate:function(o,l){return n(o+t,l+e,i,s)},relativeFromTo:function(l,r){var a=t,u=e;if(l=l.offsetParent,r=r.offsetParent,l===r)return o;for(;l;l=l.offsetParent)a+=l.offsetLeft+l.clientLeft,u+=l.offsetTop+l.clientTop;for(;r;r=r.offsetParent)a-=r.offsetLeft+r.clientLeft,u-=r.offsetTop+r.clientTop;return n(a,u,i,s)}}}var i,s=this,o=n(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);while((i=s.parentNode)instanceof HTMLElement){var l=i.offsetLeft+i.clientLeft,r=i.offsetTop+i.clientTop;o=o.relativeFromTo(s,i).translate(-l,-r),i.scrollLeft=e(i.scrollLeft,o.right-i.clientWidth,o.left,i.clientWidth),i.scrollTop=e(i.scrollTop,o.bottom-i.clientHeight,o.top,i.clientHeight),o=o.translate(l-i.scrollLeft,r-i.scrollTop),s=i}})},MfJ9:function(t,e,n){"use strict";var i=n("SApN"),s=n.n(i);s.a},SApN:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);n("yt8O"),n("VRzm");var i=n("Kw5r"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("HelloWorld")],1)},o=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table-ex",{staticClass:"table",attrs:{"auto-focus":"",showIndex:""}},[n("thead-ex",[n("th-ex",[t._v("姓名")]),n("th-ex",[t._v("年龄")]),n("th-ex",[t._v("爱好")])],1),n("tbody-ex",t._l(t.jsonData,function(e,i){return n("tr-ex",{key:i},[n("td-ex",{attrs:{list:t.list,display:"name",take:"id",edit:""},on:{change:function(n){t.onChange(e,n)}},model:{value:e.id,callback:function(n){t.$set(e,"id",n)},expression:"item.id"}}),n("td-ex",{model:{value:e.age,callback:function(n){t.$set(e,"age",n)},expression:"item.age"}}),n("td-ex",{attrs:{edit:""},model:{value:e.like,callback:function(n){t.$set(e,"like",n)},expression:"item.like"}})],1)})),n("tfoot-ex",[n("td",[t._v("合计")]),n("td"),n("td",[t._v(t._s(t.totalAge))])])],1)],1)},r=[],a={data:function(){return{list:[{name:"张三",id:1,age:23},{name:"李四",id:2,age:26},{name:"王五",id:3,age:42},{name:"赵六",id:4,age:19},{name:"小明",id:5,age:18},{name:"王刚",id:6,age:27}],jsonData:[{id:null,age:null,like:null},{id:null,age:null,like:null},{id:null,age:null,like:null},{id:null,age:null,like:null}]}},methods:{onChange:function(t,e){t.age=e?e.age:null}},computed:{totalAge:function(){var t=0;return this.jsonData.map(function(e){return t+=e.age}),t}}},u=a,c=(n("MfJ9"),n("KHd+")),h=Object(c["a"])(u,l,r,!1,null,null,null),d=h.exports,f={name:"app",components:{HelloWorld:d}},p=f,m=(n("A0++"),Object(c["a"])(p,s,o,!1,null,null,null)),x=m.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"td-ex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",attrs:{readonly:!t.edit},domProps:{value:t.value},on:{keydown:t.keydown,focus:t.focus,blur:t.blur,input:[function(e){e.target.composing||(t.value=e.target.value)},t.input]}}),t.showDrawdown?n("div",{staticClass:"drawdown-icon",on:{mousedown:t.drawdownClick}},[n("i")]):t._e(),t.showList?n("ul",t._l(t.searchList,function(e,i){return n("li",{key:i,class:{selected:e==t.selectedItem},on:{mousedown:function(n){t.itemClick(e)}}},[t._v(t._s(t.displayValue(e)))])})):t._e()])},v=[],$=(n("dRSK"),n("CiO6"),{name:"TdEx",model:{prop:"bindValue",event:"update:bindValue"},props:{bindValue:{default:""},list:Array,display:String,take:String,edit:Boolean},data:function(){return{showList:!1,showListTimeout:null,showDrawdown:this.$props.list,value:"",selectedItem:null,readonly:!0}},methods:{drawdownClick:function(){var t=this;this.showList=!this.showList,this.$nextTick(function(){return t.$refs.input.focus()})},focus:function(t){this.$nextTick(function(){t.target.select()})},setFocus:function(){this.$refs.input.focus()},blur:function(){var t=this;if(this.list){this.showListTimeout=setTimeout(function(){t.showList=!1},100);var e=this.list.find(function(e){return t.displayValue(e)==t.value});e||(this.value="",this.$emit("update:bindValue",null),this.$nextTick(function(){return t.$emit("change",null)}))}},displayValue:function(t){return this.display?t[this.display]:t},takeValue:function(t){return this.take?t[this.take]:t},itemClick:function(t){var e=this;this.$emit("update:bindValue",this.takeValue(t)),this.value=this.displayValue(t),this.selectedItem=t,this.$nextTick(function(){return e.$emit("change",e.selectedItem)})},input:function(){var t=this;this.$nextTick(function(){t.list?t.showList=0!=t.searchList.length:t.edit&&t.$emit("update:bindValue",t.value)})},keydown:function(t){var e=this;switch(t.keyCode){case 13:if(!this.list)return;this.$emit("update:bindValue",this.takeValue(this.selectedItem)),this.value=this.displayValue(this.selectedItem),this.$nextTick(function(){return e.$emit("change",e.selectedItem)}),this.showList=!1;break;case 40:if(this.list)this.arrowDownKeydown(),this.scrollIntoView();else{var n=this.$parent.$children,i=n.indexOf(this),s=this.$parent.$parent.$children,o=s.indexOf(this.$parent);if(o==s.length-1)return;s[o+1].$children[i].setFocus()}break;case 38:if(this.list)this.arrowUpKeydown(),this.scrollIntoView();else{n=this.$parent.$children;var l=n.indexOf(this);s=this.$parent.$parent.$children,o=s.indexOf(this.$parent);if(0==o)return;s[o-1].$children[l].setFocus()}break;case 37:this.arrowLeftKeydown();break;case 39:this.arrowRightKeydown();break;default:break}},arrowDownKeydown:function(){if(0!=this.searchList.length){var t=this.searchList.indexOf(this.selectedItem);if(!this.showList)return this.showList=!0,void(-1==t&&(this.selectedItem=this.searchList[0]));t==this.searchList.length-1?t=0:t+=1,this.selectedItem=this.searchList[t]}},arrowUpKeydown:function(){if(0!=this.searchList.length&&this.showList){var t=this.searchList.indexOf(this.selectedItem);0==t?t=this.searchList.length-1:t-=1,this.selectedItem=this.searchList[t]}},arrowLeftKeydown:function(){var t=this.$parent.$children,e=t.indexOf(this);0!=e&&t[e-1].setFocus()},arrowRightKeydown:function(){var t=this.$parent.$children,e=t.indexOf(this);e!=t.length-1&&t[e+1].setFocus()},scrollIntoView:function(){this.list&&this.$nextTick(function(){var t=document.getElementsByClassName("selected").item(0);t&&t.scrollIntoViewIfNeeded()})}},computed:{searchList:function(){var t=this;if(this.list)return""==this.value?this.list:this.list.filter(function(e){return-1!=t.displayValue(e).indexOf(t.value)})}},watch:{showList:function(t){this.list&&(clearTimeout(this.showListTimeout),this.showListTimeout=null)},bindValue:function(t){this.list||(this.value=t)}}}),b=$,g=Object(c["a"])(b,w,v,!1,null,null,null),y=g.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"tr-ex"},[t.showIndex?n("td",{staticClass:"order-col"},[t._v(t._s(t.indexValue))]):t._e(),t._t("default")],2)},k=[],L=(n("rGqo"),{name:"TrEx",data:function(){return{showIndex:!1,indexValue:""}},mounted:function(){var t=this;this.$children.forEach(function(e){return e.$on("selected",t.$emit("selected"))})},methods:{setShowIndex:function(t){this.showIndex=t}}}),I=L,T=Object(c["a"])(I,_,k,!1,null,null,null),O=T.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tbody",{staticClass:"tbody-ex"},[t._t("default")],2)},E=[],C={name:"TbodyEx"},j=C,S=Object(c["a"])(j,V,E,!1,null,null,null),P=S.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"thead-ex"},[n("tr",[t.showIndex?n("th",{staticClass:"order-col"},[t._v("行号")]):t._e(),t._t("default")],2)])},K=[],N={name:"TheadEx",data:function(){return{showIndex:!1}}},A=N,M=Object(c["a"])(A,F,K,!1,null,null,null),D=M.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{staticClass:"th-ex"},[t._t("default")],2)},B=[],W={name:"ThEx"},J=W,R=Object(c["a"])(J,H,B,!1,null,null,null),U=R.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table-ex"},[t._t("default")],2)},q=[],z={name:"TableEx",data:function(){return{}},props:{autoFocus:Boolean,showIndex:Boolean},mounted:function(){this.autoFocus&&this.doAutoFocus(),this.showIndex&&this.doShowIndex()},updated:function(){this.showIndex&&this.doShowIndex()},methods:{doAutoFocus:function(){var t=this.$children.find(function(t){return"tbody-ex"==t.$el.className});t&&t.$children[0]&&t.$children[0].$children[0]&&t.$children[0].$children[0].setFocus()},doShowIndex:function(){var t=this.$children.find(function(t){return"thead-ex"==t.$el.className});t&&(t.showIndex=!0);var e=this.$children.find(function(t){return"tbody-ex"==t.$el.className});e&&e.$children.forEach(function(t,e){t.showIndex=!0,t.indexValue=e+1})}}},G=z,X=Object(c["a"])(G,Q,q,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tfoot",{staticClass:"tfoot-ex"},[t._t("default")],2)},tt=[],et={name:"TfootEx"},nt=et,it=Object(c["a"])(nt,Z,tt,!1,null,null,null),st=it.exports,ot={install:function(t){t.component("td-ex",y),t.component("tr-ex",O),t.component("tbody-ex",P),t.component("thead-ex",D),t.component("th-ex",U),t.component("table-ex",Y),t.component("tfoot-ex",st)}};n("ytdn");i["a"].config.productionTip=!1,i["a"].use(ot),new i["a"]({render:function(t){return t(x)}}).$mount("#app")},ytdn:function(t,e,n){}});
//# sourceMappingURL=app.7caf19b7.js.map